---
title: å¦‚ä½•åˆ¶å®šå‰ç«¯è§„èŒƒï¼Ÿ
date: 2020-07-07
categories: å‰ç«¯
tags: [è§„èŒƒ,eslint,husky]
---

## ä»€ä¹ˆæ˜¯è§„èŒƒ?

è§„èŒƒï¼Œåè¯æ„ä¹‰ä¸Šï¼šå³æ˜æ–‡è§„å®šæˆ–çº¦å®šä¿—æˆçš„æ ‡å‡†ï¼Œå¦‚ï¼šé“å¾·è§„èŒƒã€æŠ€æœ¯è§„èŒƒç­‰ã€‚ åŠ¨è¯æ„ä¹‰ä¸Šï¼šæ˜¯æŒ‡æŒ‰ç…§æ—¢å®šæ ‡å‡†ã€è§„èŒƒçš„è¦æ±‚è¿›è¡Œæ“ä½œï¼Œä½¿æŸä¸€è¡Œä¸ºæˆ–æ´»åŠ¨è¾¾åˆ°æˆ–è¶…è¶Šè§„å®šçš„æ ‡å‡†ï¼Œå¦‚ï¼šè§„èŒƒç®¡ç†ã€è§„èŒƒæ“ä½œã€‚

## ä¸ºä»€ä¹ˆéœ€è¦è§„èŒƒ?

- é™ä½æ–°æˆå‘˜èå…¥å›¢é˜Ÿçš„æˆæœ¬, åŒæ—¶ä¹Ÿä¸€å®šç¨‹åº¦é¿å…æŒ–å‘ã€‚
- æé«˜å¼€å‘æ•ˆç‡ã€å›¢é˜Ÿåä½œæ•ˆç‡, é™ä½æ²Ÿé€šæˆæœ¬ã€‚
- å®ç°é«˜åº¦ç»Ÿä¸€çš„ä»£ç é£æ ¼ï¼Œæ–¹ä¾¿review, å¦å¤–ä¸€æ–¹é¢å¯ä»¥æé«˜é¡¹ç›®çš„å¯ç»´æŠ¤æ€§ã€‚
- è§„èŒƒæ˜¯å®ç°è‡ªåŠ¨åŒ–çš„åŸºç¡€ã€‚
- è§„èŒƒæ˜¯ä¸€ä¸ªå›¢é˜ŸçŸ¥è¯†æ²‰æ·€çš„ç›´æ¥è¾“å‡ºã€‚

## ç‰ˆæœ¬è§„èŒƒ

é¡¹ç›®çš„ç‰ˆæœ¬å·åº”è¯¥æ ¹æ®æŸäº›è§„åˆ™è¿›è¡Œè¿­ä»£, è¿™é‡Œæ¨èä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ, é€šè¿‡è¿™ä¸ªè§„èŒƒï¼Œç”¨æˆ·å¯ä»¥äº†è§£ç‰ˆæœ¬å˜æ›´çš„å½±å“èŒƒå›´ã€‚ è§„åˆ™å¦‚ä¸‹:

- ä¸»ç‰ˆæœ¬å·ï¼šå½“ä½ åšäº†ä¸å…¼å®¹çš„ API ä¿®æ”¹ã€‚
- æ¬¡ç‰ˆæœ¬å·ï¼šå½“ä½ åšäº†å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢ã€‚
- ä¿®è®¢å·ï¼šå½“ä½ åšäº†å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£ã€‚

### Git åˆ†æ”¯æ¨¡å‹

**masteråˆ†æ”¯**
masteråˆ†æ”¯è¡¨ç¤ºä¸€ä¸ªç¨³å®šçš„å‘å¸ƒç‰ˆæœ¬ã€‚

- åœºæ™¯: å‰ç«¯åº”ç”¨ä¼šè·Ÿéšç‰ˆæœ¬è¿­ä»£, åœ¨devåˆ†æ”¯æµ‹è¯•ç¨³å®šå, ä¼šåˆå¹¶åˆ°masteråˆ†æ”¯, å¹¶ä½¿ç”¨tagæ ‡è®°åº”ç”¨ç‰ˆæœ¬å’Œå¯¹åº”çš„ç‰ˆæœ¬ã€‚
- tagè§„èŒƒ: v{APP_version}, ä¾‹å¦‚v0.1.0ã€‚
- äººå‘˜ï¼šç”±é¡¹ç›®è´Ÿè´£äººè¿›è¡Œå®¡æ ¸åˆå¹¶, æ™®é€šå¼€å‘è€…æ²¡æœ‰æƒé™ã€‚

**devåˆ†æ”¯**
å¼€å‘è€…ä¸»è¦å·¥ä½œçš„åˆ†æ”¯, æœ€æ–°çš„ç‰¹æ€§æˆ–bugä¿®å¤éƒ½ä¼šæäº¤åˆ°è¿™ä¸ªåˆ†æ”¯. å¼€å‘è€…å¦‚æœåœ¨è¯¥åˆ†æ”¯è¿›è¡Œäº†æäº¤ï¼Œåœ¨pushåˆ°è¿œç¨‹ä¹‹å‰åº”è¯¥å…ˆpullä¸€ä¸‹ï¼Œ å¹¶å°½é‡ä½¿ç”¨ `rebase` æ¨¡å¼ï¼Œä¿è¯åˆ†æ”¯çš„ç®€æ´ã€‚

- å‘½åè§„èŒƒ: devã€‚
- tagè§„èŒƒ: åœ¨devåˆ†æ”¯ä¸­ä¹Ÿå¯èƒ½ä¼šç»å†å‘å¸ƒè¿‡ç¨‹, ä¾‹å¦‚bugä¿®å¤ç‰ˆæœ¬. è¿™é‡ŒåŒæ ·ä½¿ç”¨tagæ¥æ ‡è®°è¿™äº›å‘å¸ƒ. ä¾‹å¦‚v0.1.1ã€‚
- æäº¤è§„èŒƒï¼šå¦‚æœå®åœ¨å¼€å‘åˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘ï¼Œåœ¨æ¨é€åˆ°è¿œç¨‹ä¹‹å‰ï¼Œåº”è¯¥ä½¿ç”¨ [git rebase](https://www.jianshu.com/p/6960811ac89c) å½¢å¼æ›´æ–°æœ¬åœ°åˆ†æ”¯ã€‚

**featureåˆ†æ”¯**
æ¶‰åŠå¤šäººåä½œæˆ–è€…å¤§åŠŸèƒ½çš„å¼€å‘, åº”è¯¥ä»devåˆ†æ”¯checkoutå‡ºç‹¬ç«‹çš„featureåˆ†æ”¯, é¿å…å¹²æ‰°devåˆ†æ”¯ã€‚

- åœºæ™¯: æ¶‰åŠå¤šäººåä½œ: å›¢é˜Ÿå¤šä¸ªæˆå‘˜åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸‹è´Ÿè´£å¼€å‘ä¸åŒçš„åŠŸèƒ½, è¿™æ—¶å€™æ¯ä¸ªæˆå‘˜åœ¨è‡ªå·±çš„featureåˆ†æ”¯ç‹¬ç«‹å¼€å‘ã€‚å¤§åŠŸèƒ½å¼€å‘: å¤§åŠŸèƒ½å¼€å‘è·¨è¶Šå‘¨æœŸæ¯”è¾ƒé•¿, éœ€è¦å¤šæ¬¡è¿­ä»£æ‰ä¼šç¨³å®š. è¿™æ—¶å€™åº”è¯¥åœ¨ç‹¬ç«‹çš„åˆ†æ”¯ä¸Šå¼€å‘. æ–¹ä¾¿è·Ÿè¸ªå†å²è®°å½•, ä¹Ÿå…äºå¹²æ‰°devåˆ†æ”¯çš„è¿­ä»£å’Œå‘å¸ƒã€‚
- å‘½åè§„èŒƒ: `feature/name`: nameæ˜¯åŠŸèƒ½åç§°ã€‚`feature/version`: è¿™ä¹Ÿæ˜¯å›¢é˜Ÿå¸¸è§çš„æ¨¡å¼, å½“æ— æ³•ä½¿ç”¨ä¸€ä¸ªåŠŸèƒ½åç§°æ¥æè¿°æ—¶, å¯ä»¥ä½¿ç”¨ç‰ˆæœ¬å·ä½œä¸ºâ€œåŠŸèƒ½â€ã€‚
- åˆå¹¶æ—¶æœº: å½“featureåˆ†æ”¯è¿­ä»£ç¨³å®š, å¹¶é€šè¿‡æµ‹è¯•å, åˆå¹¶åˆ°devåˆ†æ”¯. åˆå¹¶åˆ°devå, featureåˆ†æ”¯çš„ç”Ÿå‘½å‘¨æœŸå°±ç»“æŸäº†ã€‚åç»­bugä¿®å¤å’ŒåŠŸèƒ½ä¼˜åŒ–ç›´æ¥åœ¨devå¼€å‘ã€‚å½“å¤šä¸ªfeatureåˆ†æ”¯éœ€è¦åˆå¹¶å¯¹å¤–å‘å¸ƒä¸´æ—¶ç‰ˆæœ¬æ—¶. åˆå¹¶åˆ°previewåˆ†æ”¯ . âš ï¸è¿™ç§æƒ…å†µä¸åº”è¯¥åˆå¹¶åˆ°devåˆ†æ”¯, å› ä¸ºfeatureåˆ†æ”¯å¯èƒ½è¿˜ä¸ç¨³å®šæˆ–æœªå®Œæˆã€‚ æ¯”å¦‚ä¸ºäº†è”è°ƒæŸäº›åŠŸèƒ½ã€‚
- åˆå¹¶æ–¹å¼: ä¸è¦ä½¿ç”¨ `fast-forward`. è¿™æ ·å¯ä»¥åœ¨åˆ†æ”¯å›¾ä¸ŠæŸ¥çœ‹åˆ°åˆ†æ”¯å†å²ã€‚

**previewåˆ†æ”¯**
ä¸´æ—¶çš„é¢„è§ˆåˆ†æ”¯, previewåˆ†æ”¯ç”¨äºä¸´æ—¶åˆå¹¶featureåˆ†æ”¯, è¿™å…¶ä¸­å¯èƒ½ä¼šä¿®å¤æŸäº›bugæˆ–è€…å†²çª. å¯ä»¥é€‰æ‹©æ€§åœ°å°†è¿™äº›æäº¤cherrypickå›featureåˆ†æ”¯. å½“é¢„è§ˆç»“æŸåå°±å¯ä»¥é”€æ¯previewåˆ†æ”¯ã€‚

**releaseåˆ†æ”¯**
releaseåˆ†æ”¯æœ‰ä¸¤ç§ä½¿ç”¨ç­–ç•¥ï¼Œç¬¬ä¸€ç§éµå¾ªgitFlowæµç¨‹, ç¬¬äºŒç§æ˜¯ç›®å‰åç«¯å›¢é˜Ÿä½¿ç”¨çš„ç­–ç•¥ï¼Œä¸ºäº†é…åˆåç«¯å·¥ä½œã€‚

**git flow é£æ ¼çš„releaseåˆ†æ”¯**
å½“å‰å‰ç«¯åº”ç”¨çš„ç¨³å®šç‰ˆæœ¬ç»‘å®š. releaseåˆ†æ”¯ä¸ä¸€å®šå­˜åœ¨, ä¸€èˆ¬æƒ…å†µä¸‹, åªä¼šåœ¨å‰ç«¯ç‰ˆæœ¬ç¨³å®šå, å°†å…¶åˆå¹¶åˆ°master, å¹¶åˆ›å»ºtagæ ‡è®°. è€Œåªæœ‰éœ€è¦ä¸ºæŒ‡å®šçš„æ­£å¼ç‰ˆæœ¬ä¿®å¤bugæ—¶æ‰ä¼šåˆ›å»ºreleaseåˆ†æ”¯ã€‚

- åœºæ™¯: éœ€è¦ä¸ºæŸä¸ªæ­£å¼ç‰ˆæœ¬ä¿®å¤bug(hotFix)æ—¶, ä»masterçš„å¯¹åº”tagä¸­checkout releaseåˆ†æ”¯ã€‚
- å‘½åè§„èŒƒ: release/version å¤–éƒ¨äººå‘˜åªä¼šå…³æ³¨ç‰ˆæœ¬ã€‚
- å¦‚ä½•ä¿®å¤: å¦‚æœå¯¹åº”bugå¯ä»¥åœ¨devåˆ†æ”¯ç›´æ¥è¢«ä¿®å¤, å¯ä»¥å…ˆæäº¤åˆ°devåˆ†æ”¯(æˆ–è€…å·²ç»ä¿®å¤äº†), ç„¶åå†cherrypickåˆ°releaseåˆ†æ”¯ã€‚å¦‚æœbugåœ¨æ–°ç‰ˆæœ¬æ— æ³•å¤ç°. æ¯”å¦‚æ–°ç‰ˆæœ¬å‡çº§äº†ä¾èµ–. é‚£ä¹ˆåœ¨releaseåˆ†æ”¯ç›´æ¥ä¿®å¤å³å¯ã€‚

**è‡ªå®šä¹‰é£æ ¼releaseåˆ†æ”¯**
å½“è¦å‘å¸ƒä¸€ä¸ªå¯¹åº”çš„ç‰ˆæœ¬æ—¶ï¼ˆæˆ–è€…ä¸€å¼€å§‹å¼€å‘æ—¶ï¼‰ä»devåˆ†æ”¯checkoutå‡ºä¸€ä¸ªå¼€å‘åˆ†æ”¯ï¼Œåç»­éœ€è¦å¯¹å¤–å‘å¸ƒæ—¶ï¼Œå°†devåˆ†æ”¯åˆå¹¶åˆ°releaseåˆ†æ”¯, å¹¶æ‰“ä¸Šç‰ˆæœ¬tagã€‚

- ä½•æ—¶åˆ›å»º: å¼€å¯æ–°ç‰ˆæœ¬å¼€å‘ä»»åŠ¡æ—¶(æ¨è)ï¼Œå‘å¤–å‘å¸ƒç¬¬ä¸€ä¸ªç‰ˆæœ¬æ—¶ã€‚
- ä½•æ—¶åˆå¹¶: åé¢devæœ‰ç‰ˆæœ¬å‘å¸ƒéƒ½è¦åˆå¹¶åˆ°releaseåˆ†æ”¯ï¼Œç›´åˆ°å¼€å¯å¦ä¸€æ¡releaseåˆ†æ”¯ã€‚
- å¥½å¤„: å¯¹å‘å¸ƒå†…å®¹è¿›è¡Œç­›é€‰ã€‚ä¸“é—¨ç”¨äºå‘å¸ƒ, å¼€å‘è€…å®¹æ˜“è¿‡æ»¤å˜æ›´çš„å†…å®¹ã€‚

### æäº¤ä¿¡æ¯è§„èŒƒ

ä¸€ä¸ªå¥½çš„æäº¤ä¿¡æ¯, ä¼šå¸®åŠ©ä½ æé«˜é¡¹ç›®çš„æ•´ä½“è´¨é‡ã€‚

- why: æ ¼å¼ç»Ÿä¸€çš„æäº¤ä¿¡æ¯å¯ä»¥å¸®åŠ©è‡ªåŠ¨åŒ–ç”Ÿæˆchangelogã€‚ç‰ˆæœ¬åº“ä¸åªæ˜¯å­˜æ”¾ä»£ç çš„ä»“åº“, ä¹Ÿè®°å½•é¡¹ç›®çš„å¼€å‘è®°å½•. è¿™äº›è®°å½•åº”è¯¥å¯ä»¥å¸®åŠ©åæ¥è€…å¿«é€Ÿåœ°å­¦ä¹ å’Œå›é¡¾ä»£ç . ä¹Ÿåº”è¯¥æ–¹ä¾¿å…¶ä»–åä½œè€…reviewä½ çš„ä»£ç ã€‚
- åŸåˆ™: åŠå¹´å, ä½ èƒ½çœ‹æ‡‚ä½ çš„commitåšäº†ä»€ä¹ˆä¸œè¥¿ã€‚
- æ–¹å¼: ä½¿ç”¨git commit(æ‰“å¼€ç¼–è¾‘å™¨)è€Œä¸æ˜¯git commit -mã€‚
- å¿…è¦ä¿¡æ¯: 1ã€æäº¤æ”¹å˜äº†ä»€ä¹ˆ, è®©å…¶ä»–revieweræ›´å®¹æ˜“å®¡æ ¸ä»£ç å’Œå¿½ç•¥æ— å…³çš„æ”¹å˜ã€‚2ã€ç®€çŸ­è¯´æ˜ä½¿ç”¨ä»€ä¹ˆæ–¹å¼, ç­–ç•¥, ä¿®å¤äº†é—®é¢˜ã€‚3ã€è¯´æ˜å˜åŠ¨åŠŸèƒ½çš„ç»†èŠ‚ã€‚ ä¸€ä¸ªæäº¤ä¸åº”è¯¥åšè¶…è¿‡2ä¸ªåŠŸèƒ½çš„å˜åŠ¨ã€‚

ä½¿ç”¨ [commitlint](https://github.com/conventional-changelog/commitlint) å·¥å…·ï¼Œå¸¸ç”¨æœ‰ä»¥ä¸‹å‡ ç§ç±»å‹ï¼š

- âœ¨featureæˆ–feat: å¼•å…¥æ–°åŠŸèƒ½
- ğŸ›fix: ä¿®å¤äº†bug
- ğŸ“docs: æ–‡æ¡£
- ğŸ¨style: ä¼˜åŒ–é¡¹ç›®ç»“æ„æˆ–è€…ä»£ç æ ¼å¼
- â™»ï¸refactor: ä»£ç é‡æ„. ä»£ç é‡æ„ä¸æ¶‰åŠæ–°åŠŸèƒ½å’Œbugä¿®å¤. ä¸åº”è¯¥å½±å“åŸæœ‰åŠŸèƒ½, åŒ…æ‹¬å¯¹å¤–æš´éœ²çš„æ¥å£
- âœ…test: å¢åŠ æµ‹è¯•
- â«chore: æ„å»ºè¿‡ç¨‹, è¾…åŠ©å·¥å…·å‡çº§. å¦‚å‡çº§ä¾èµ–, å‡çº§æ„å»ºå·¥å…·
- âš¡ï¸perf: æ€§èƒ½ä¼˜åŒ–
- âª revert: revertä¹‹å‰çš„commit
	- git revert å‘½ä»¤ç”¨äºæ’¤é”€ä¹‹å‰çš„ä¸€ä¸ªæäº¤, å¹¶åœ¨ä¸ºè¿™ä¸ªæ’¤é”€æ“ä½œç”Ÿæˆä¸€ä¸ªæäº¤
- ğŸ‰ buildæˆ–release: æ„å»ºæˆ–å‘å¸ƒç‰ˆæœ¬
- ğŸ”’ safe: ä¿®å¤å®‰å…¨é—®é¢˜

```
git commit -m 'feat: add list'
```

## é¡¹ç›®ç»„ç»‡è§„èŒƒ

ä¸€ä¸ªå…¸å‹çš„é¡¹ç›®ç»„ç»‡è§„èŒƒå¦‚ä¸‹:

- **README.md**: é¡¹ç›®è¯´æ˜, è¿™ä¸ªæ˜¯æœ€é‡è¦ã€‚ä½ å¿…é¡»åœ¨è¿™é‡Œæä¾›å…³äºé¡¹ç›®çš„å…³é”®ä¿¡æ¯æˆ–è€…ç›¸å…³ä¿¡æ¯çš„å…¥å£. ä¸€èˆ¬åŒ…å«ä¸‹åˆ—ä¿¡æ¯:
	- ç®€è¦æè¿°ã€é¡¹ç›®ä¸»è¦ç‰¹æ€§
	- è¿è¡Œç¯å¢ƒ/ä¾èµ–ã€å®‰è£…å’Œæ„å»ºã€æµ‹è¯•æŒ‡å—
	- ç®€å•ç¤ºä¾‹ä»£ç 
	- æ–‡æ¡£æˆ–æ–‡æ¡£å…¥å£, å…¶ä»–ç‰ˆæœ¬æˆ–ç›¸å…³èµ„æºå…¥å£
	- è”ç³»æ–¹å¼ã€è®¨è®ºç¾¤
	- è®¸å¯ã€è´¡çŒ®/å¼€å‘æŒ‡å—
- **CHANGELOG.md**: æ”¾ç½®æ¯ä¸ªç‰ˆæœ¬çš„å˜åŠ¨å†…å®¹, é€šå¸¸è¦æè¿°æ¯ä¸ªç‰ˆæœ¬å˜æ›´çš„å†…å®¹ã€‚æ–¹ä¾¿ä½¿ç”¨è€…ç¡®å®šåº”è¯¥ä½¿ç”¨å“ªä¸ªç‰ˆæœ¬. å…³äºCHANGELOGçš„è§„èŒƒå¯ä»¥å‚è€ƒ [keep a changelog](https://keepachangelog.com/en/1.0.0/)
- **package.json**: å‰ç«¯é¡¹ç›®å¿…é¡». æè¿°å½“å‰çš„ç‰ˆæœ¬ã€å¯ç”¨çš„å‘½ä»¤ã€åŒ…åã€ä¾èµ–ã€ç¯å¢ƒçº¦æŸã€é¡¹ç›®é…ç½®ç­‰ä¿¡æ¯.
- **.gitignore**: å¿½ç•¥ä¸å¿…è¦çš„æ–‡ä»¶ï¼Œé¿å…å°†è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬åº“
- **.gitattributes**: gité…ç½®ï¼Œæœ‰ä¸€äº›è·¨å¹³å°å·®å¼‚çš„è¡Œä¸ºå¯èƒ½éœ€è¦åœ¨è¿™é‡Œé…ç½®ä¸€ä¸‹ï¼Œå¦‚æ¢è¡Œè§„åˆ™
- **docs/**: é¡¹ç›®çš„ç»†åŒ–æ–‡æ¡£, å¯é€‰.
- **examples/**: é¡¹ç›®çš„ç¤ºä¾‹ä»£ç ï¼Œå¯é€‰.
- **build**: é¡¹ç›®å·¥å…·ç±»è„šæœ¬æ”¾ç½®åœ¨è¿™é‡Œï¼Œéå¿…é¡»ã€‚å¦‚æœä½¿ç”¨ç»Ÿä¸€æ„å»ºå·¥å…·ï¼Œåˆ™æ²¡æœ‰è¿™ä¸ªç›®å½•
- **dist/**: é¡¹ç›®æ„å»ºç»“æœè¾“å‡ºç›®å½•
- **src/**: æºä»£ç ç›®å½•
- **tests**: å…¨å±€çš„æµ‹è¯•ç›®å½•ï¼Œé€šå¸¸æ”¾åº”ç”¨çš„é›†æˆæµ‹è¯•æˆ–E2Eæµ‹è¯•ç­‰ç”¨ä¾‹
- **.env***: é¡¹ç›®ä¸­æˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨ç¯å¢ƒå˜é‡æ¥å½±å“åº”ç”¨åœ¨ä¸åŒè¿è¡Œç¯å¢ƒä¸‹çš„è¡Œä¸º. å¯ä»¥é€šè¿‡[dotEnv](https://github.com/motdotla/dotenv)æ¥ä»æ–‡ä»¶ä¸­è¯»å–ç¯å¢ƒå˜é‡. é€šå¸¸æœ‰ä¸‰ä¸ªæ–‡ä»¶:
	- `.env` é€šç”¨çš„ç¯å¢ƒå˜é‡
	- `.env.development` å¼€å‘ç¯å¢ƒçš„ç¯å¢ƒå˜é‡
	- `.env.production` ç”Ÿæˆç¯å¢ƒçš„ç¯å¢ƒå˜é‡
	
	åŸºæœ¬ä¸Šè¿™äº›æ–‡ä»¶çš„å˜åŠ¨çš„é¢‘ç‡å¾ˆå°‘ï¼Œå›¢é˜Ÿæˆå‘˜åº”è¯¥ä¸è¦éšæ„å˜åŠ¨ï¼Œä»¥å…å½±å“å…¶ä»–æˆå‘˜ã€‚æ‰€ä»¥é€šå¸¸ä¼šä½¿ç”¨.env.*.localæ–‡ä»¶æ¥è¦†ç›–ä¸Šè¿°çš„é…ç½®, å¦å¤–ä¼šè®¾ç½®ç‰ˆæœ¬åº“æ¥å¿½ç•¥*.localæ–‡ä»¶.

å¯¹äºå¼€æºé¡¹ç›®é€šå¸¸è¿˜åŒ…æ‹¬è¿™äº›ç›®å½•:
- **LICENSE**: è¯´æ˜é¡¹ç›®è®¸å¯
- **.github**: å¼€æºè´¡çŒ®è§„èŒƒå’ŒæŒ‡å—

## ç¼–ç è§„èŒƒ

> æ¯ä¸€ä¸ªç¨‹åºå‘˜å¿ƒç›®ä¸­å¯¹â€œå¥½ä»£ç â€éƒ½æœ‰è‡ªå·±çš„ä¸»è§ï¼Œç»Ÿä¸€çš„ç¼–ç è§„èŒƒå¯ä»¥åƒç§¦å§‹çš‡ç»Ÿä¸€æˆ˜å›½ä¸€æ ·ï¼Œé¿å…ä¸å¿…è¦çš„è®ºæˆ˜å’Œäº‰è®®ã€‚

å…¶å®ä¸å…¶è‡ªå·±å»ºç«‹å‰ç«¯ç¼–ç è§„èŒƒï¼Œä¸å¦‚é€‰æ‹©ç¤¾åŒºæ²‰æ·€ä¸‹æ¥çš„è§„èŒƒï¼Œæ¨èä¸‹é¢çš„èµ„æºï¼š

* [å‡¹å‡¸å®éªŒå®¤ä»£ç è§„èŒƒ](https://guide.aotu.io/docs/index.html)
* [isobar å‰ç«¯ä»£ç è§„èŒƒåŠæœ€ä½³å®è·µ](https://coderlmn.github.io/code-standards/#_general_guidelines)

### HTML

**HTMLä»£ç å¤§å°å†™**

HTMLæ ‡ç­¾åã€ç±»åã€æ ‡ç­¾å±æ€§å’Œå¤§éƒ¨åˆ†å±æ€§å€¼ç»Ÿä¸€ç”¨å°å†™

æ¨è:
```html
<div class="demo"></div>
```

ä¸æ¨èï¼š

```html
<div class="DEMO"></div>
	
<DIV CLASS="DEMO"></DIV>
```

**æ®µè½å…ƒç´ ä¸æ ‡é¢˜å…ƒç´ åªèƒ½åµŒå¥—å†…è”å…ƒç´ **

æ¨èï¼š

```html
<h1><span></span></h1>
<p><span></span><span></span></p>
```

ä¸æ¨èï¼š

```html
<h1><div></div></h1>
<p><div></div><div></div></p>
```

> æ›´å¤šå‚è€ƒ [HTMLè§„èŒƒ](https://guide.aotu.io/docs/html/code.html)

### CSS

**ä»£ç æ ¼å¼åŒ–**

æ ·å¼ä¹¦å†™ä¸€èˆ¬æœ‰ä¸¤ç§ï¼šä¸€ç§æ˜¯ç´§å‡‘æ ¼å¼ (Compact)

```css
.jdc{ display: block;width: 50px;}
```

ä¸€ç§æ˜¯å±•å¼€æ ¼å¼ï¼ˆExpandedï¼‰

```css
.jdc{
  display: block;
  width: 50px;
}
```

> å›¢é˜Ÿçº¦å®š: ç»Ÿä¸€ä½¿ç”¨å±•å¼€æ ¼å¼ä¹¦å†™æ ·å¼

**ä»£ç å¤§å°å†™**

æ ·å¼é€‰æ‹©å™¨ï¼Œå±æ€§åï¼Œå±æ€§å€¼å…³é”®å­—å…¨éƒ¨ä½¿ç”¨å°å†™å­—æ¯ä¹¦å†™ï¼Œå±æ€§å­—ç¬¦ä¸²å…è®¸ä½¿ç”¨å¤§å°å†™ã€‚

```css
/* æ¨è */
.jdc{
	display:block;
}
	
/* ä¸æ¨è */
.JDC{
	DISPLAY:BLOCK;
}
```

**é€‰æ‹©å™¨**

* å°½é‡å°‘ç”¨é€šç”¨é€‰æ‹©å™¨ *
* ä¸ä½¿ç”¨ ID é€‰æ‹©å™¨
* ä¸ä½¿ç”¨æ— å…·ä½“è¯­ä¹‰å®šä¹‰çš„æ ‡ç­¾é€‰æ‹©å™¨

```css
/* æ¨è */
.jdc {}
.jdc li {}
.jdc li p{}

/* ä¸æ¨è */
*{}
#jdc {}
.jdc div{}
```

> æ›´å¤šå‚è€ƒ [CSSè§„èŒƒ](https://guide.aotu.io/docs/css/code.html)

å¦å¤–å¯ä»¥å­¦ä¹ ä¸€ä¸‹ [BEMå‘½åè§„èŒƒ](https://css-tricks.com/bem-101/)

BEM çš„è¯­æ³•ï¼š

```css
.block {} //å—ï¼ˆblockï¼‰
.block__element {} //å…ƒç´ ï¼ˆelementï¼‰
.block--modifier {} //ä¿®é¥°ç¬¦ï¼ˆmodifierï¼‰
```

### Javascript

ç»Ÿä¸€ç¼–ç è§„èŒƒä¸ä»…å¯ä»¥å¤§å¹…æé«˜ä»£ç å¯è¯»æ€§ï¼Œç”šè‡³ä¼šæé«˜ä»£ç è´¨é‡ã€‚å½“æˆ‘ä»¬è®¾è®¡äº†ä¸€å¥—å…³äºç¼–ç è§„èŒƒçš„è§„åˆ™é›†æ—¶ï¼Œéœ€è¦å·¥å…·å»è¾…åŠ©æ£€æµ‹ï¼Œè¿™å°±æ˜¯ `ESLint`ã€‚

è§„åˆ™é›†éœ€è¦ç»Ÿä¸€é›†ä¸­é…ç½®ï¼Œ`ESLint` ä¼šé»˜è®¤è¯»å–é…ç½®æ–‡ä»¶ `.eslintrc` æ¥è§£æï¼Œè€Œè§„åˆ™é›†åœ¨ `rules` ä¸­è¿›è¡Œé…ç½®ï¼š

```json
"rules": {
	"semi": ["error", "always"],
	"quotes": ["error", "double"]
}
```

è€Œæˆ‘ä»¬éœ€è¦åšçš„æ˜¯è®¾å®šæˆ‘ä»¬çš„ä»£ç è§„èŒƒï¼Œå³ `rules` é¡¹ï¼Œå…³äºå®ƒçš„æ–‡æ¡£åŠæœ€ä½³å®è·µå‚è€ƒä¸šç•Œæ ‡æ†[Airbnb JavaScript Style Guide](https://github.com/airbnb/javascript) 

**ç¬¬ä¸€å±‚çº¦æŸï¼šé¡¹ç›®å¼•å…¥ESLint**

å½“ä¸ç¬¦åˆä»£ç è§„èŒƒçš„ç¬¬ä¸€æ—¶é—´ï¼Œæˆ‘ä»¬å°±è¦æ„ŸçŸ¥åˆ°å®ƒï¼ŒåŠæ—¶åé¦ˆï¼Œå¿«é€Ÿçº æ­£ï¼Œæ¯”ç›´åˆ°æœ€åç§¯æ”’äº†ä¸€å¤§å †é”™è¯¯è¦é«˜æ•ˆå¾ˆå¤šã€‚

1.å®‰è£…ä¾èµ–

```
npm install eslint eslint-config-airbnb-base eslint-plugin-import eslint-plugin-vue --save-dev
```

æˆ–åœ¨ `package.json` ä¸­é…ç½®ä»¥ä¸‹ä¾èµ–ï¼Œæ‰§è¡Œ `npm install` å®‰è£…

```js
	"eslint": "^7.3.1",
	"eslint-config-airbnb-base": "^14.2.0",
	// "eslint-config-prettier": "^6.11.0",
	// "eslint-friendly-formatter": "^4.0.1",
	// "eslint-loader": "^4.0.2",
	"eslint-plugin-import": "^2.22.0",
	// "eslint-plugin-prettier": "^3.1.4",
	"eslint-plugin-vue": "^6.2.2",
```

2.æ·»åŠ eslinté…ç½®æ–‡ä»¶

åœ¨é¡¹ç›®æ ¹è·¯å¾„æ·»åŠ ä¸¤ä¸ªæ–‡ä»¶ `.eslintrc.js` å’Œ `.eslintignore`

`.eslintrc.js` eslintè§„åˆ™é…ç½®æ–‡ä»¶
```js
module.exports = {
  // è§„åˆ™è¿è¡Œçš„ç¯å¢ƒ
  "env": {
    "browser": true,
    "es2020": true,
    "node": true
  },
  // ä½¿ç”¨çš„è§„åˆ™é›†ï¼Œæ ¹æ®ä¸åŒé¡¹ç›®(react/vueç­‰)ä½¿ç”¨ä¸åŒçš„è§„åˆ™
  "extends": [
    // "eslint:recommended",
    "plugin:vue/essential",
    "airbnb-base",
    // "plugin:prettier/recommended"
  ],
  // æŒ‡å®šç¼–è¯‘å™¨
  "parserOptions": {
    "ecmaVersion": 11,
    "sourceType": "module"
  },
  "plugins": [
    "vue",
    // "prettier"
  ],
  /** 
   * è‡ªå®šä¹‰è§„åˆ™
   * â€œoffâ€ æˆ– 0 - å…³é—­è§„åˆ™
   * â€œwarnâ€ æˆ– 1 - å¼€å¯è§„åˆ™ï¼Œä½¿ç”¨è­¦å‘Šçº§åˆ«çš„é”™è¯¯ï¼šwarn (ä¸ä¼šå¯¼è‡´ç¨‹åºé€€å‡º)
   * â€œerrorâ€ æˆ– 2 - å¼€å¯è§„åˆ™ï¼Œä½¿ç”¨é”™è¯¯çº§åˆ«çš„é”™è¯¯ï¼šerror (å½“è¢«è§¦å‘çš„æ—¶å€™ï¼Œç¨‹åºä¼šé€€å‡º)
   */
  "rules": {
    // å¤šä¸ªç‰¹æ€§çš„å…ƒç´ åº”è¯¥åˆ†å¤šè¡Œæ’°å†™ï¼Œæ¯ä¸ªç‰¹æ€§ä¸€è¡Œ
    "vue/max-attributes-per-line": [
      2,
      {
        "singleline": 1,
        "multiline": {
          "max": 1,
          "allowFirstLine": false
        }
      }
    ],
    "vue/no-parsing-error": [
      2,
      {
        "x-invalid-end-tag": false
      }
    ],
    "import/order": 0,
    "no-unused-vars": 1,
    "no-console": 0,
    "max-len": [
      2,
      300,
      4,
      {
        "ignoreUrls": true
      }
    ],
    "import/prefer-default-export": 0,
    // æœ«å°¾åˆ†å·
    "semi": 0,
    // å°¾éšé€—å·
    "comma-dangle": 0,
    // æ¢è¡Œç¬¦(å¹³å°ä¸åŒï¼Œwindows CRLF, unix LF)
    "linebreak-style": 0,
    // require()å‡½æ•°ä»…åœ¨æ¨¡å—çš„é¡¶å±‚è°ƒç”¨å®ƒï¼Œç¦ç”¨
    "global-require": 0,
    "import/no-dynamic-require": 0
    // "prettier/prettier": [
    //   "error",
    //   {
    //     "singleQuote": true,
    //     "trailingComma": "none",
    //     "bracketSpacing": true,
    //     "jsxBracketSameLine": true
    //   }
    // ]
  },
  "settings": {
    "import/resolver": {
      "node": {
        "paths": ["src"],
        "extensions": [".js", ".jsx", ".vue"]
      }
    }
  }
};

```

`.eslintignore` å¯¹ç‰¹å®šç›®å½•ï¼ˆæ–‡ä»¶ï¼‰å¿½ç•¥eslintæ£€æµ‹çš„é…ç½®æ–‡ä»¶

```
.eslintrc.js
.vscode/settings.json
/build/
/config/
/dist/
```

`babel-eslint`ã€`eslint:recommended` è§„èŒƒ

```js
module.exports = {
  root: true,
  parserOptions: {
    parser: 'babel-eslint',
    sourceType: 'module'
  },
  env: {
    browser: true,
    node: true,
    es6: true,
  },
  extends: ['plugin:vue/recommended', 'eslint:recommended'],
  // add your custom rules here
  //it is base on https://github.com/vuejs/eslint-config-vue
  rules: {
    // æ¢è¡Œç¬¦(å¹³å°ä¸åŒï¼Œwindows CRLF, unix LF)
    "linebreak-style": 0,
    "vue/max-attributes-per-line": [2, {
      "singleline": 10,
      "multiline": {
        "max": 1,
        "allowFirstLine": false
      }
    }],
    "vue/html-self-closing": 0,
    "vue/singleline-html-element-content-newline": "off",
    "vue/multiline-html-element-content-newline":"off",
    "vue/name-property-casing": ["error", "PascalCase"],
    "vue/no-v-html": "off",
    'accessor-pairs': 2,
    'arrow-spacing': [2, {
      'before': true,
      'after': true
    }],
    'block-spacing': [2, 'always'],
    'brace-style': [2, '1tbs', {
      'allowSingleLine': true
    }],
    'camelcase': [0, {
      'properties': 'always'
    }],
    'comma-dangle': [2, 'never'],
    'comma-spacing': [2, {
      'before': false,
      'after': true
    }],
    'comma-style': [2, 'last'],
    'constructor-super': 2,
    'curly': [2, 'multi-line'],
    'dot-location': [2, 'property'],
    'eol-last': 2,
    'eqeqeq': ["error", "always", {"null": "ignore"}],
    'generator-star-spacing': [2, {
      'before': true,
      'after': true
    }],
    'handle-callback-err': [2, '^(err|error)$'],
    'indent': [2, 2, {
      'SwitchCase': 1
    }],
    'jsx-quotes': [2, 'prefer-single'],
    'key-spacing': [2, {
      'beforeColon': false,
      'afterColon': true
    }],
    'keyword-spacing': [2, {
      'before': true,
      'after': true
    }],
    'new-cap': [2, {
      'newIsCap': true,
      'capIsNew': false
    }],
    'new-parens': 2,
    'no-array-constructor': 2,
    'no-caller': 2,
    'no-console': 'off',
    'no-class-assign': 2,
    'no-cond-assign': 2,
    'no-const-assign': 2,
    'no-control-regex': 0,
    'no-delete-var': 2,
    'no-dupe-args': 2,
    'no-dupe-class-members': 2,
    'no-dupe-keys': 2,
    'no-duplicate-case': 2,
    'no-empty-character-class': 2,
    'no-empty-pattern': 2,
    'no-eval': 2,
    'no-ex-assign': 2,
    'no-extend-native': 2,
    'no-extra-bind': 2,
    'no-extra-boolean-cast': 2,
    'no-extra-parens': [2, 'functions'],
    'no-fallthrough': 2,
    'no-floating-decimal': 2,
    'no-func-assign': 2,
    'no-implied-eval': 2,
    'no-inner-declarations': [2, 'functions'],
    'no-invalid-regexp': 2,
    'no-irregular-whitespace': 2,
    'no-iterator': 2,
    'no-label-var': 2,
    'no-labels': [2, {
      'allowLoop': false,
      'allowSwitch': false
    }],
    'no-lone-blocks': 2,
    'no-mixed-spaces-and-tabs': 2,
    'no-multi-spaces': 2,
    'no-multi-str': 2,
    'no-multiple-empty-lines': [2, {
      'max': 1
    }],
    'no-native-reassign': 2,
    'no-negated-in-lhs': 2,
    'no-new-object': 2,
    'no-new-require': 2,
    'no-new-symbol': 2,
    'no-new-wrappers': 2,
    'no-obj-calls': 2,
    'no-octal': 2,
    'no-octal-escape': 2,
    'no-path-concat': 2,
    'no-proto': 2,
    'no-redeclare': 2,
    'no-regex-spaces': 2,
    'no-return-assign': [2, 'except-parens'],
    'no-self-assign': 2,
    'no-self-compare': 2,
    'no-sequences': 2,
    'no-shadow-restricted-names': 2,
    'no-spaced-func': 2,
    'no-sparse-arrays': 2,
    'no-this-before-super': 2,
    'no-throw-literal': 2,
    'no-trailing-spaces': 2,
    'no-undef': 2,
    'no-undef-init': 2,
    'no-unexpected-multiline': 2,
    'no-unmodified-loop-condition': 2,
    'no-unneeded-ternary': [2, {
      'defaultAssignment': false
    }],
    'no-unreachable': 2,
    'no-unsafe-finally': 2,
    'no-unused-vars': [2, {
      'vars': 'all',
      'args': 'none'
    }],
    'no-useless-call': 2,
    'no-useless-computed-key': 2,
    'no-useless-constructor': 2,
    'no-useless-escape': 0,
    'no-whitespace-before-property': 2,
    'no-with': 2,
    'one-var': [2, {
      'initialized': 'never'
    }],
    'operator-linebreak': [2, 'after', {
      'overrides': {
        '?': 'before',
        ':': 'before'
      }
    }],
    'padded-blocks': [2, 'never'],
    'quotes': [2, 'single', {
      'avoidEscape': true,
      'allowTemplateLiterals': true
    }],
    'semi': 0,
    'semi-spacing': [2, {
      'before': false,
      'after': true
    }],
    'space-before-blocks': [2, 'always'],
    'space-before-function-paren': [2, 'never'],
    'space-in-parens': [2, 'never'],
    'space-infix-ops': 2,
    'space-unary-ops': [2, {
      'words': true,
      'nonwords': false
    }],
    'spaced-comment': [2, 'always', {
      'markers': ['global', 'globals', 'eslint', 'eslint-disable', '*package', '!', ',']
    }],
    'template-curly-spacing': [2, 'never'],
    'use-isnan': 2,
    'valid-typeof': 2,
    'wrap-iife': [2, 'any'],
    'yield-star-spacing': [2, 'both'],
    'yoda': [2, 'never'],
    'prefer-const': 2,
    'no-debugger': process.env.NODE_ENV === 'production' ? 2 : 0,
    'object-curly-spacing': [2, 'always', {
      objectsInObjects: false
    }],
    'array-bracket-spacing': [2, 'never']
  }
}
```

æ›´å¤šçš„è§„åˆ™å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£æŒ‰éœ€å¼•å…¥ï¼š[eslint ä¸­æ–‡æ–‡æ¡£](https://cn.eslint.org/docs/rules/)


3.vscode æ ¼å¼åŒ–Vueä»£ç 

`ESlint`ï¼šjavascriptä»£ç æ£€æµ‹å·¥å…·ï¼Œå¯ä»¥é…ç½®æ¯æ¬¡ä¿å­˜æ—¶æ ¼å¼åŒ–jsã€‚

`Vetur`ï¼šå¯ä»¥æ ¼å¼åŒ–htmlã€æ ‡å‡†cssï¼ˆæœ‰åˆ†å· ã€å¤§æ‹¬å·çš„é‚£ç§ï¼‰ã€æ ‡å‡†jsï¼ˆæœ‰åˆ†å· ã€åŒå¼•å·çš„é‚£ç§ï¼‰ã€vueæ–‡ä»¶ï¼Œä½†æ˜¯ï¼æ ¼å¼åŒ–çš„æ ‡å‡†jsæ–‡ä»¶ä¸ç¬¦åˆESlintè§„èŒƒï¼Œä¼šç»™ä½ åŠ ä¸ŠåŒå¼•å·ã€åˆ†å·ç­‰;

`Prettier - Code formatter`ï¼šåªå…³æ³¨æ ¼å¼åŒ–ï¼Œå¹¶ä¸å…·æœ‰eslintæ£€æŸ¥è¯­æ³•ç­‰èƒ½åŠ›ï¼Œåªå…³å¿ƒæ ¼å¼åŒ–æ–‡ä»¶(æœ€å¤§é•¿åº¦ã€æ··åˆæ ‡ç­¾å’Œç©ºæ ¼ã€å¼•ç”¨æ ·å¼ç­‰)ï¼ŒåŒ…æ‹¬JavaScript Â· Flow Â· TypeScript Â· CSS Â· SCSS Â· Less Â· JSX Â· Vue Â· GraphQL Â· JSON Â· Markdownã€‚

`vscode jsoné…ç½®é¡¹`

```json
{
  // gitè·¯å¾„
  "git.path": "D:/tool/Git/cmd/git.exe",
  "git.confirmSync": false,
  "[vue]": {
    "editor.defaultFormatter": "octref.vetur"
  },
  "[javascript]": {
    "editor.defaultFormatter": "dbaeumer.vscode-eslint"
  },
  //.vueæ–‡ä»¶templateæ ¼å¼åŒ–æ”¯æŒï¼Œå¹¶ä½¿ç”¨js-beautify-htmlæ’ä»¶
  "vetur.format.defaultFormatter.html": "js-beautify-html",
  "vetur.format.defaultFormatterOptions": {
    // å¯¹å±æ€§è¿›è¡Œæ¢è¡Œã€‚
    // - auto: ä»…åœ¨è¶…å‡ºè¡Œé•¿åº¦æ—¶æ‰å¯¹å±æ€§è¿›è¡Œæ¢è¡Œã€‚
    // - force: å¯¹é™¤ç¬¬ä¸€ä¸ªå±æ€§å¤–çš„å…¶ä»–æ¯ä¸ªå±æ€§è¿›è¡Œæ¢è¡Œã€‚
    // - force-aligned: å¯¹é™¤ç¬¬ä¸€ä¸ªå±æ€§å¤–çš„å…¶ä»–æ¯ä¸ªå±æ€§è¿›è¡Œæ¢è¡Œï¼Œå¹¶ä¿æŒå¯¹é½ã€‚
    // - force-expand-multiline: å¯¹æ¯ä¸ªå±æ€§è¿›è¡Œæ¢è¡Œã€‚
    // - aligned-multiple: å½“è¶…å‡ºæŠ˜è¡Œé•¿åº¦æ—¶ï¼Œå°†å±æ€§è¿›è¡Œå‚ç›´å¯¹é½ã€‚
    "js-beautify-html": {
      // "wrap_line_length": 120,
      "wrap_attributes": "force-expand-multiline",
      "end_with_newline": false
    },
    "prettier": {
      "semi": false, //ä¸ä½¿ç”¨åˆ†å·ç»“å°¾
      "singleQuote": true, //ä½¿ç”¨å•å¼•å·
      "eslintIntegration": true  //å¼€å¯ eslint æ”¯æŒ
    }
  },
  //æ ¹æ®æ–‡ä»¶åç¼€åå®šä¹‰vueæ–‡ä»¶ç±»å‹
  "files.associations": {
    "*.cjson": "jsonc",
    "*.wxss": "css",
    "*.wxs": "javascript",
    "*.vue": "vue"
  },
  //ä¿å­˜è‡ªåŠ¨æ ¼å¼åŒ–
  // "editor.formatOnSave": true,
  //é…ç½® ESLint æ£€æŸ¥çš„æ–‡ä»¶ç±»å‹
  "eslint.validate": ["javascript", "javascriptreact", "vue"],
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  // "eslint.run": "onSave",
  "eslint.alwaysShowStatus": true,
  "eslint.format.enable": true,
  //ä¿å­˜æ—¶eslintè‡ªåŠ¨ä¿®å¤é”™è¯¯
  "eslint.autoFixOnSave": true,  
  "files.autoSave": "afterDelay"
}
```

æ¨èæ’ä»¶ï¼š

* `indent-rainbow` (çªå‡ºæ˜¾ç¤ºä»£ç ç¼©è¿›)
* `Rainbow Brackets` (å½©è™¹æ‹¬å·)

4.webpack é…ç½®

`webpack.base.conf.js` å¯ä»¥é€šè¿‡é…ç½® `eslint-loader` è®©ä½ æœ‰ä¸ç¬¦åˆ `eslint` çš„æ—¶å€™åœ¨å‘½ä»¤è¡Œæˆ–è€…ç•Œé¢é‡Œæç¤ºä½ æœ‰ä»€ä¹ˆé”™è¯¯ã€‚

å®‰è£…ä¾èµ–

```
npm install eslint-friendly-formatter eslint-loader --save-dev
```

`package.json`

```js
	"eslint": "^7.3.1",
	"eslint-config-airbnb-base": "^14.2.0",
	// "eslint-config-prettier": "^6.11.0",
	"eslint-friendly-formatter": "^4.0.1",
	"eslint-loader": "^4.0.2",
	"eslint-plugin-import": "^2.22.0",
	// "eslint-plugin-prettier": "^3.1.4",
	"eslint-plugin-vue": "^6.2.2",
```

`build\webpack.base.conf.jsï¼š`

```js
const createLintingRule = () => ({
  test: /\.(js|vue)$/,
  loader: 'eslint-loader',
  enforce: 'pre',
  include: [resolve('src'), resolve('test')],
  options: {
    formatter: require('eslint-friendly-formatter'),
    emitWarning: !config.dev.showEslintErrorsInOverlay
  }
})

module.exports = {
  entry: {
  },
  output: {
  },
  resolve: {
  },
  externals: {
  },
  module: {
    rules: [
      ...(config.dev.useEslint ? [createLintingRule()] : [])
    ],
    loaders: [
    ]
  },
  plugins: [
  ]
}
```

`config\index.jsï¼š`

```js
module.exports = {
  dev: {

    // Use Eslint Loader?
    // If true, your code will be linted during bundling and
    // linting errors and warnings will be shown in the console.
    useEslint: true,
    // If true, eslint errors and warnings will also be shown in the error overlay
    // in the browser.
    showEslintErrorsInOverlay: false,

  },

  build: {
  }
}
```

TIPï¼š`showEslintErrorsInOverlay` è¿™ä¸ªå˜é‡å¯ä»¥æ§åˆ¶é”™è¯¯æç¤ºæ˜¯å¦éœ€è¦åœ¨æµè§ˆå™¨ç•Œé¢ä¸­æç¤ºã€‚

**ç¬¬äºŒå±‚çº¦æŸï¼šGit Hooks**

ä¸ºäº†ä¿è¯æ¯æ¬¡æäº¤çš„ `git` ä»£ç æ˜¯æ­£ç¡®çš„ï¼Œä¸ºæ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `eslint` é…åˆ `git hook`ï¼Œ åœ¨è¿›è¡Œ `git commit` çš„æ—¶å€™éªŒè¯ `eslint` è§„èŒƒã€‚å¦‚æœ `eslint` éªŒè¯ä¸é€šè¿‡ï¼Œåˆ™ä¸èƒ½æäº¤ã€‚

æˆ‘ä»¬éœ€è¦å®‰è£…ä¸€ä¸ª `git` çš„ hook å·¥å…· â€”â€” `husky`

```
npm install husky --save-dev
```

å®‰è£…å¥½ä¹‹ååœ¨ `package.json`ï¼Œ`scripts` ä¸‹é¢åŠ å…¥ `esliint` çš„å‘½ä»¤éªŒè¯ `eslint` çš„è§„åˆ™

```json
"scripts": {
	"lint": "node_modules/.bin/eslint --ext .js,.vue src",
	"lint:fix": "node_modules/.bin/eslint --ext .js,.vue src --fix"
}
```

æ¥ä¸‹æ¥åœ¨ `package.json` ä¸‹é¢åŠ å…¥ `husky` çš„é…ç½®é¡¹

```json
"husky": {
	"hooks": {
		"pre-commit": "echo 'husky' && npm run lint"
	}
}
```

æ„æ€æ˜¯åœ¨è¿›è¡Œ `git commit` çš„æ—¶å€™ å…ˆå»æ‰§è¡Œ `pre-commit` é‡Œé¢çš„å‘½ä»¤ï¼š æˆ‘ä»¬åœ¨è¿™é‡Œè¾“å‡º `husky` å¹¶ä¸”æ‰§è¡Œ `npm run lint`  (æˆ‘ä»¬ä¹‹å‰åŠ ä¸Šçš„éªŒè¯eslintçš„å‘½ä»¤)ã€‚

å¦‚æœ `eslint` éªŒè¯é€šè¿‡äº†ï¼Œåˆ™ä¼šè¿›è¡Œ `commit` æ“ä½œï¼Œå¦åˆ™ä¼šæŠ¥ `eslint` çš„é”™è¯¯æç¤ºã€‚


**æœ€åï¼šä¸€å®šè¦ä½¿ç”¨ npm å®‰è£… eslint å’Œ husky**

## [Vueé£æ ¼æŒ‡å—](https://vue.docschina.org/v2/style-guide/)

> è¿™é‡Œæ˜¯å®˜æ–¹çš„ Vue ç‰¹æœ‰ä»£ç çš„é£æ ¼æŒ‡å—ã€‚å¦‚æœåœ¨å·¥ç¨‹ä¸­ä½¿ç”¨ Vueï¼Œä¸ºäº†å›é¿é”™è¯¯ã€å°çº ç»“å’Œåæ¨¡å¼ï¼Œè¯¥æŒ‡å—æ˜¯ä»½ä¸é”™çš„å‚è€ƒã€‚ä¸è¿‡æˆ‘ä»¬ä¹Ÿä¸ç¡®ä¿¡é£æ ¼æŒ‡å—çš„æ‰€æœ‰å†…å®¹å¯¹äºæ‰€æœ‰çš„å›¢é˜Ÿæˆ–å·¥ç¨‹éƒ½æ˜¯ç†æƒ³çš„ã€‚æ‰€ä»¥æ ¹æ®è¿‡å»çš„ç»éªŒã€å‘¨å›´çš„æŠ€æœ¯æ ˆã€ä¸ªäººä»·å€¼è§‚åšå‡ºæœ‰æ„ä¹‰çš„åå·®æ˜¯å¯å–çš„ã€‚

### ä¼˜å…ˆçº§ Aï¼šå¿…è¦çš„

**ç»„ä»¶åä¸ºå¤šä¸ªå•è¯**

ç»„ä»¶ååº”è¯¥å§‹ç»ˆæ˜¯å¤šä¸ªå•è¯çš„ï¼Œæ ¹ç»„ä»¶ `App` é™¤å¤–ã€‚

è¿™æ ·åšå¯ä»¥é¿å…è·Ÿç°æœ‰çš„ä»¥åŠæœªæ¥çš„ `HTML` å…ƒç´ ç›¸å†²çªï¼Œå› ä¸ºæ‰€æœ‰çš„ `HTML` å…ƒç´ åç§°éƒ½æ˜¯å•ä¸ªå•è¯çš„ã€‚

ä¸æ¨èï¼š

```js
Vue.component('todo', {
  // ...
})

export default {
  name: 'Todo',
  // ...
}
```

æ¨èï¼š

```js
Vue.component('todo-item', {
  // ...
})

export default {
  name: 'TodoItem',
  // ...
}
```

**ç»„ä»¶çš„ `data` å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°**

å½“åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ data å±æ€§çš„æ—¶å€™ (é™¤äº† new Vue å¤–çš„ä»»ä½•åœ°æ–¹)ï¼Œå®ƒçš„å€¼å¿…é¡»æ˜¯è¿”å›ä¸€ä¸ªå¯¹è±¡çš„å‡½æ•°ã€‚

ä¸æ¨èï¼š

```js
Vue.component('some-comp', {
  data: {
    foo: 'bar'
  }
})

export default {
  data: {
    foo: 'bar'
  }
}
```

æ¨è:

```js
Vue.component('some-comp', {
  data: function () {
    return {
      foo: 'bar'
    }
  }
})

// In a .vue file
export default {
  data () {
    return {
      foo: 'bar'
    }
  }
}

// åœ¨ä¸€ä¸ª Vue çš„æ ¹å®ä¾‹ä¸Š
// ç›´æ¥ä½¿ç”¨å¯¹è±¡æ˜¯å¯ä»¥çš„ï¼Œ
// å› ä¸ºåªå­˜åœ¨ä¸€ä¸ªè¿™æ ·çš„å®ä¾‹ã€‚
new Vue({
  data: {
    foo: 'bar'
  }
})
```

**Prop å®šä¹‰åº”è¯¥å°½é‡è¯¦ç»†**

ä¸æ¨èï¼š

```js
// è¿™æ ·åšåªæœ‰å¼€å‘åŸå‹ç³»ç»Ÿæ—¶å¯ä»¥æ¥å—
props: ['status']
```

æ¨èï¼š

```js
props: {
  status: String
}

// æ›´å¥½çš„åšæ³•ï¼
props: {
  status: {
    type: String,
    required: true,
    validator: function (value) {
      return [
        'syncing',
        'synced',
        'version-conflict',
        'error'
      ].indexOf(value) !== -1
    }
  }
}
```

**æ°¸è¿œä¸è¦æŠŠ `v-if` å’Œ `v-for` åŒæ—¶ç”¨åœ¨åŒä¸€ä¸ªå…ƒç´ ä¸Š**

> ä¸€èˆ¬æˆ‘ä»¬åœ¨ä¸¤ç§å¸¸è§çš„æƒ…å†µä¸‹ä¼šå€¾å‘äºè¿™æ ·åšï¼š
> * ä¸ºäº†è¿‡æ»¤ä¸€ä¸ªåˆ—è¡¨ä¸­çš„é¡¹ç›® (æ¯”å¦‚ v-for="user in users" v-if="user.isActive")ã€‚åœ¨è¿™ç§æƒ…å½¢ä¸‹ï¼Œè¯·å°† users æ›¿æ¢ä¸ºä¸€ä¸ªè®¡ç®—å±æ€§ (æ¯”å¦‚ activeUsers)ï¼Œè®©å…¶è¿”å›è¿‡æ»¤åçš„åˆ—è¡¨ã€‚
> * ä¸ºäº†é¿å…æ¸²æŸ“æœ¬åº”è¯¥è¢«éšè—çš„åˆ—è¡¨ (æ¯”å¦‚ v-for="user in users" v-if="shouldShowUsers")ã€‚è¿™ç§æƒ…å½¢ä¸‹ï¼Œè¯·å°† v-if ç§»åŠ¨è‡³å®¹å™¨å…ƒç´ ä¸Š (æ¯”å¦‚ ul, ol)ã€‚

[è¯¦è§£](https://vue.docschina.org/v2/style-guide/#%E9%81%BF%E5%85%8D-v-if-%E5%92%8C-v-for-%E7%94%A8%E5%9C%A8%E4%B8%80%E8%B5%B7-%E5%BF%85%E8%A6%81)

ä¸æ¨è:

```js
<ul>
  <li
    v-for="user in users"
    v-if="user.isActive"
    :key="user.id"
  >
    {{ user.name }}
  <li>
</ul>

<ul>
  <li
    v-for="user in users"
    v-if="shouldShowUsers"
    :key="user.id"
  >
    {{ user.name }}
  <li>
</ul>
```

æ¨èï¼š

```js
<ul>
  <li
    v-for="user in activeUsers"
    :key="user.id"
  >
    {{ user.name }}
  <li>
</ul>

<ul v-if="shouldShowUsers">
  <li
    v-for="user in users"
    :key="user.id"
  >
    {{ user.name }}
  <li>
</ul>
```

### ä¼˜å…ˆçº§ Bï¼šå¼ºçƒˆæ¨è

**å•æ–‡ä»¶ç»„ä»¶æ–‡ä»¶çš„å¤§å°å†™**

å•æ–‡ä»¶ç»„ä»¶çš„æ–‡ä»¶ååº”è¯¥è¦ä¹ˆå§‹ç»ˆæ˜¯å•è¯å¤§å†™å¼€å¤´ (PascalCase)ï¼Œè¦ä¹ˆå§‹ç»ˆæ˜¯æ¨ªçº¿è¿æ¥ (kebab-case)ã€‚

å•è¯å¤§å†™å¼€å¤´å¯¹äºä»£ç ç¼–è¾‘å™¨çš„è‡ªåŠ¨è¡¥å…¨æœ€ä¸ºå‹å¥½ï¼Œå› ä¸ºè¿™ä½¿å¾—æˆ‘ä»¬åœ¨ JS(X) å’Œæ¨¡æ¿ä¸­å¼•ç”¨ç»„ä»¶çš„æ–¹å¼å°½å¯èƒ½çš„ä¸€è‡´ã€‚ç„¶è€Œï¼Œæ··ç”¨æ–‡ä»¶å‘½åæ–¹å¼æœ‰çš„æ—¶å€™ä¼šå¯¼è‡´å¤§å°å†™ä¸æ•æ„Ÿçš„æ–‡ä»¶ç³»ç»Ÿçš„é—®é¢˜ï¼Œè¿™ä¹Ÿæ˜¯æ¨ªçº¿è¿æ¥å‘½ååŒæ ·å®Œå…¨å¯å–çš„åŸå› ã€‚

ä¸æ¨èï¼š

```
components/
|- mycomponent.vue

components/
|- myComponent.vue
```

æ¨èï¼š

```
components/
|- MyComponent.vue

components/
|- my-component.vue
```

**åŸºç¡€ç»„ä»¶å**

åº”ç”¨ç‰¹å®šæ ·å¼å’Œçº¦å®šçš„åŸºç¡€ç»„ä»¶ (ä¹Ÿå°±æ˜¯å±•ç¤ºç±»çš„ã€æ— é€»è¾‘çš„æˆ–æ— çŠ¶æ€çš„ç»„ä»¶) åº”è¯¥å…¨éƒ¨ä»¥ä¸€ä¸ªç‰¹å®šçš„å‰ç¼€å¼€å¤´ï¼Œæ¯”å¦‚ Baseã€App æˆ– Vã€‚

ä¸æ¨èï¼š

```
components/
|- MyButton.vue
|- VueTable.vue
|- Icon.vue
```

æ¨èï¼š

```
components/
|- BaseButton.vue
|- BaseTable.vue
|- BaseIcon.vue

components/
|- AppButton.vue
|- AppTable.vue
|- AppIcon.vue

components/
|- VButton.vue
|- VTable.vue
|- VIcon.vue
```

**å¤šä¸ªç‰¹æ€§çš„å…ƒç´ **

å¤šä¸ªç‰¹æ€§çš„å…ƒç´ åº”è¯¥åˆ†å¤šè¡Œæ’°å†™ï¼Œæ¯ä¸ªç‰¹æ€§ä¸€è¡Œã€‚

åœ¨ JavaScript ä¸­ï¼Œç”¨å¤šè¡Œåˆ†éš”å¯¹è±¡çš„å¤šä¸ªå±æ€§æ˜¯å¾ˆå¸¸è§çš„æœ€ä½³å®è·µï¼Œå› ä¸ºè¿™æ ·æ›´æ˜“è¯»ã€‚æ¨¡æ¿å’Œ JSX å€¼å¾—æˆ‘ä»¬åšç›¸åŒçš„è€ƒè™‘ã€‚

ä¸æ¨èï¼š

```html
<img src="https://vuejs.org/images/logo.png" alt="Vue Logo">

<MyComponent foo="a" bar="b" baz="c"/>
```

æ¨èï¼š

```html
<img
  src="https://vuejs.org/images/logo.png"
  alt="Vue Logo"
>

<MyComponent
  foo="a"
  bar="b"
  baz="c"
/>
```

### ä¸€äº›ç»†èŠ‚

**åŒºåˆ†Vuexä¸propsçš„ä½¿ç”¨è¾¹ç•Œ**

* ä¸šåŠ¡ç›¸å…³ç»„ä»¶ - ç”¨Vuex
* é€šç”¨ç»„ä»¶ - ç”¨props

> å¦‚ä½•åˆ†ä¸æ¸…ä»€ä¹ˆæ˜¯ä¸šåŠ¡ç»„ä»¶ï¼Œä»€ä¹ˆæ˜¯é€šç”¨ç»„ä»¶ï¼Ÿæ— è„‘ç”¨`Vuex`ï¼Œå¦‚æœä½ å‘ç°ä½ ç”¨`Vuex`æ ¹æœ¬æ— æ³•å†™ä»£ç çš„æ—¶å€™ï¼Œä½ å°±çŸ¥é“ä»€ä¹ˆæƒ…å†µéœ€è¦ä½¿ç”¨`props`äº†

**watch ä¸ è®¡ç®—å±æ€§ å‚»å‚»åˆ†ä¸æ¸…æ¥šï¼Ÿï¼Ÿ** 

ç›¸åŒç‚¹ï¼š

* éƒ½å¯ä»¥è§‚å¯Ÿæ•°æ®
* æ•°æ®å‘é€å˜åŒ–æ—¶ï¼Œå‡½æ•°ä¼šæ‰§è¡Œ

ä¸åŒç‚¹:

* watchåªèƒ½è§‚å¯Ÿä¸€ä¸ªï¼Œcomputed å¯ä»¥è§‚å¯Ÿæ— é™ä¸ª
* computedåªæœ‰è¢« watcher è§‚å¯Ÿåï¼Œå‡½æ•°æ‰ä¼šæ‰§è¡Œï¼ˆåªæœ‰è¢«è¯»å–æ—¶ä¼šæ‰§è¡Œï¼Œå†…éƒ¨ä½¿ç”¨getterå®ç°ï¼‰
* watch çš„å‚æ•°æ›´ä¸°å¯Œ

è®¡ç®—å±æ€§setterçš„ç©æ³•ï¼š

```js
computed: {
  fullName: {
    // getter
    get: function () {
      return this.firstName + ' ' + this.lastName
    },
    // setter
    set: function (newValue) {
      var names = newValue.split(' ')
      this.firstName = names[0]
      this.lastName = names[names.length - 1]
    }
  }
}
```

watch çš„å‚æ•°ï¼š

```js
var vm = new Vue({
  data: {
    a: 1,
    b: 2,
    c: 3,
    d: 4,
    e: {
      f: {
        g: 5
      }
    }
  },
  watch: {
    a: function (val, oldVal) {
      console.log('new: %s, old: %s', val, oldVal)
    },
    // æ–¹æ³•å
    b: 'someMethod',
    // æ·±åº¦ watcher
    c: {
      handler: function (val, oldVal) { /* ... */ },
      deep: true
    },
    // è¯¥å›è°ƒå°†ä¼šåœ¨ä¾¦å¬å¼€å§‹ä¹‹åè¢«ç«‹å³è°ƒç”¨
    d: {
      handler: function (val, oldVal) { /* ... */ },
      immediate: true
    },
    e: [
      function handle1 (val, oldVal) { /* ... */ },
      function handle2 (val, oldVal) { /* ... */ }
    ],
    // watch vm.e.f's value: {g: 5}
    'e.f': function (val, oldVal) { /* ... */ }
  }
})
vm.a = 2 // => new: 2, old: 1
```

**å¦‚ä½•åœ¨æ¯ä¸€ä¸ªè·¯ç”±åé¢æ·»åŠ query**

éå¸¸hackï¼Œä¹Ÿæ˜¯ç›®å‰å”¯ä¸€ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆ

```js
const transitionTo = router.history.transitionTo

router.history.transitionTo = function (location, onComplete, onAbort) {
  const query = {a: 'xx'}
  location = typeof location === 'object'
    ? {...location, query: {...location.query, ...query}}
    : {path: location, query}

  transitionTo.call(router.history, location, onComplete, onAbort)
}
```

**ä»€ä¹ˆæ˜¯å¥½çš„è®¾è®¡ï¼Ÿ**

* å±•ç¤ºå±‚ç»„ä»¶å°½é‡è½»ï¼Œå®ƒåªæœ‰ä¸€ä¸ªä½œç”¨ï¼Œæ‹¿åˆ°æ•°æ®æ¸²æŸ“ã€‚
* ä¸è¦æŠŠç»„ä»¶ï¼Œå½“åšpageæ¥å†™
* å±•ç°ç»„ä»¶å¤ªå¤æ‚æ—¶ï¼Œå»ºè®®æå–åŠŸèƒ½æ€§ç»„ä»¶ã€‚

æ€»ä¹‹ï¼Œä¸è¦è®©ä¸šåŠ¡å±•ç°ç»„ä»¶å¤ªè¿‡å¤æ‚ã€‚


## å‚è€ƒ

* [if æˆ‘æ˜¯å‰ç«¯å›¢é˜Ÿ Leaderï¼Œæ€ä¹ˆåˆ¶å®šå‰ç«¯åä½œè§„èŒƒ?](https://juejin.im/post/5d3a7134f265da1b5d57f1ed)
* [eslint é…åˆ git ï¼ˆhuskyï¼‰](https://www.cnblogs.com/zzd0916/p/10254893.html)
* [git-åˆ†æ”¯æ¨¡å‹](https://github.com/GDJiaMi/frontend-standards/blob/master/development.md#git-%E5%88%86%E6%94%AF%E6%A8%A1%E5%9E%8B)
* [ç°æœ‰vue-clié¡¹ç›®å¼•å…¥ESLint](https://www.cnblogs.com/cielsys/p/10346071.html)
* [å—ç“œå±‹ - æŠ€æœ¯è§£å†³æ–¹æ¡ˆä¸Vueæœ€ä½³å®è·µ](https://ppt.baomitu.com/d/8a94cafc)
* [vscode + eslint + prettier æ ¼å¼åŒ–Vueä»£ç ](https://blog.csdn.net/jiandan1127/article/details/90036508)
* [ä¸€æ­¥ä¸€æ­¥ï¼Œç»Ÿä¸€é¡¹ç›®ä¸­çš„ç¼–ç è§„èŒƒï¼ˆvue, vscode, vetur, prettier, eslintï¼‰](https://juejin.im/post/5cbfde7c5188250a7d6ddcd1)